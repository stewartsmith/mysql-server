--source include/have_falcon.inc

#
# Bug #32398: Falcon: tablespace file can be table file
#
--echo *** Bug #32398 ***

# ----------------------------------------------------- #
# --- Initialisation                                --- #
# ----------------------------------------------------- #
let $engine = 'Falcon';
eval SET @@storage_engine = $engine;

# ----------------------------------------------------- #
# --- Test                                          --- #
# ----------------------------------------------------- #
CREATE TABLESPACE ts1 ADD DATAFILE 'ts1.fts' ENGINE=Falcon;
CREATE TABLESPACE ts2 ADD DATAFILE 'ts2.MYD' ENGINE=Falcon;
CREATE TABLESPACE ts3 ADD DATAFILE 'ts3' ENGINE=Falcon;
CREATE TABLESPACE ts4 ADD DATAFILE 'ts4test' ENGINE=Falcon;
--error ER_BAD_PATH
CREATE TABLESPACE ts5 ADD DATAFILE '' ENGINE=Falcon;

# ----------------------------------------------------- #
# --- Check                                         --- #
# ----------------------------------------------------- #
SELECT TABLESPACE_NAME, FILE_NAME FROM INFORMATION_SCHEMA.FILES;

# ----------------------------------------------------- #
# --- Final cleanup                                 --- #
# ----------------------------------------------------- #
DROP TABLESPACE ts1 ENGINE=Falcon;
DROP TABLESPACE ts2 ENGINE=Falcon;
DROP TABLESPACE ts3 ENGINE=Falcon;
DROP TABLESPACE ts4 ENGINE=Falcon;
