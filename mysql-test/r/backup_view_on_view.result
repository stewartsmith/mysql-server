SET GLOBAL debug="d,backup:d,backup_data";
DROP DATABASE IF EXISTS db1;
CREATE DATABASE db1;
CREATE TABLE db1.t1(a int) ENGINE=INNODB;
CREATE VIEW db1.v1 AS SELECT * FROM db1.t1;
CREATE VIEW db1.v2 AS SELECT * FROM db1.v1;
INSERT INTO db1.t1 VALUES (1),(2),(3),(5),(7),(11);
BACKUP DATABASE db1 TO 'test.bak';
backup_id
#
RESTORE FROM 'test.bak';
backup_id
#
SELECT * FROM db1.v2;
a
1
2
3
5
7
11
SELECT * FROM db1.v1;
a
1
2
3
5
7
11
SELECT * FROM db1.t1;
a
1
2
3
5
7
11
